g_2(x)
f_2(x)
x=seq(-10,10,0.1)
plot(x,g_1(x),'l',ylab="y")
points(x,g_2(x),'l',col='blue')
legend(1,25,legend=c("g_1","g_2"),col=c("black","blue"),lty=1:2,cex=0.8)
x=seq(-5,5,0.1)
plot(x,g_1(x),'l',ylab="y")
points(x,g_2(x),'l',col='blue')
legend(1,25,legend=c("g_1","g_2"),col=c("black","blue"),lty=1:2,cex=0.8)
f<-function(x){
return(sin(x))
}
x=seq(-5,5,0.1)
plot(x,f(x),'l',ylab="y")
plot(x,f(x),'l',ylab="y",ylim=c(-3,3))
plot(x,f(x),'l',ylab="y",ylim=c(-3,3))
points(x,rep(1,length(x)),'l')
points(x,rep(-1,length(x)),'l')
2*3*5*7*11*13*17*19
39*5*12/30
78/6
f<-function(x){
return(5*x^3+2*x^2-8*x+3)
}
f(-0.609)
f(0.8757)
f(0.609)
f(-0.8757)
15*0.609^2+4*0.609-8
pnorm(0.6)
1/0.5
qnorm(2)
pnorm(2)
pnorm(4)
3090-2940
1945+2010-2010-2385
4*2.5*2*250
1.25*1.25*1.5
24995-4530
32750-24995
7755/17.75
32750/12
2729.167-6190
32750-6190
26550/12
-18.4-4
-22.4/7
(26.4-4)/7
1/(3.2^2)
1-1/(3.2^2)
1-1/4
0.9023438*0.75
2*0.1*sqrt(2*log(64*5000/0.3))
16*0.1*log(8*5000/0.3)
18.88097+1.063757-2.6
700*2.6/2-0.1/2*sqrt(700*log(8/0.3))-18.88097
p=0.2;
q=0.8;
C1=q*log(q/p)+(1-q)*log((1-q)/(1-p));
C2=p*log(p/q)+(1-p)*log((1-p)/(1-q));
C1
C2
C=C1
A=abs(log(q/p)-log((1-q)/(1-p)));
A
2*A*sqrt(2*log(64*5000/0.3))-C
16*A*log(8*5000/0.3)
700*C/2-A*sqrt(700*log(8/0.3))/2
log(5000)
67*log(128/3)
67*log(64/3)
35*log(64/3)
35*log(32/3)
2*exp(92/35)
2*exp(-92/35)
2*exp(-82/35)
e^{1/2}
exp(1/2)
1-1/1.65
log(1/(1-exp(-1/288)))
26*16*4
0.5^4
4*0.5^4
1-0.5-0.0635*2
0.373/0.0625
1/0.0625
1-0.5-0.0625*2
choose(4,2)
gamma=0.4
A=4/(gamma^2*(1-gamma)^2)+4/(gamma^2)+1/(gamma^4)
a=0.64
alpha<-function(beta){
term1<-A/(2*(a-0.5)^2)
term2<-1/(beta*(1-exp(-2*(a-0.5)^2/A)))
return(term1*log(term2))
}
beta<-c(0,1,0.01)
plot(beta,alpha(beta),type="l")
plot(alpha(beta),beta,type="l")
gamma=0.4
A=4/(gamma^2*(1-gamma)^2)+4/(gamma^2)+1/(gamma^4)
a=0.8
alpha<-function(beta){
term1<-A/(2*(a-0.5)^2)
term2<-1/(beta*(1-exp(-2*(a-0.5)^2/A)))
return(term1*log(term2))
}
beta<-c(0,1,0.01)
plot(beta,alpha(beta),type="l")
plot(alpha(beta),beta,type="l")
1/(0.4)^4
exp(-2*(a-0.5)^2/A)
A/(2*(a-0.5)^2)
2*(a-0.5)^2
39.0625/0.18
4/(gamma^2*(1-gamma)^2)+4/(gamma^2)+1/(gamma^4)
order<-function(beta){
term1<-1/(gamma^4*(a-0.5)^2)
term2<-log(1/beta)
return(term^1.01*term2)
}
plot(order(beta),beta,type="l")
order<-function(beta){
term1<-1/(gamma^4*(a-0.5)^2)
term2<-log(1/beta)
return(term1^1.01*term2)
}
plot(order(beta),beta,type="l")
gamma=0.4
A=4/(gamma^2*(1-gamma)^2)+4/(gamma^2)+1/(gamma^4)
a=0.8
alpha<-function(beta){
term1<-A/(2*(a-0.5)^2)
term2<-1/(beta*(1-exp(-2*(a-0.5)^2/A)))
return(term1*log(term2))
}
beta<-c(0,1,0.01)
plot(beta,alpha(beta),type="l")
plot(alpha(beta),beta,type="l")
gamma=0.4
A=4/(gamma^2*(1-gamma)^2)+4/(gamma^2)+1/(gamma^4)
a=0.64
alpha<-function(beta){
term1<-A/(2*(a-0.5)^2)
term2<-1/(beta*(1-exp(-2*(a-0.5)^2/A)))
return(term1*log(term2))
}
beta<-c(0,1,0.01)
plot(beta,alpha(beta),type="l")
plot(alpha(beta),beta,type="l")
library(rmutil)
rlaplace(100, m=0, s=0.1)
z=rlaplace(100, m=0, s=0.1)
hist(z)
library(rmutil)
#Compute Mann-Witney Statistic: x and y are two samples we want to compare
mww<-function(x,y){
n<-length(x)
m<-length(y)
S<-wilcox.test(x,y,alternative="less")$statistic
return (S/(n*m))
}
pncpd<-function(data, gamma, epsilon, isPrivate){
n<-length(data)
l<-floor(n*gamma)
r<-n-l+1
s<-rep(-1,n)
for (k in l:r){
s[k]<-mww(data[1:k],data[(k+1):n])
}
if (isPrivate == 1){
z<-rlaplace(n, m=0, s=2/(epsilon*l))
z[c(1:l,(r+1):n)]<-0
return (which.max(s+z))
}
if (isPrivate == 0){
return (which.max(s))
}
}
#Estimate alpha for each beta = 0, 0.05, 0.1, ... 0.95, 1 using Monte Carlo Method
getAlpha<-function(data, iter, k_true, epsilon, isPrivate){
k_hat<-rep(0,iter)
for (i in 1:iter){
k_hat[i]<-pncpd(data = data[i,], gamma = 0.1, epsilon, isPrivate)
}
error<-abs(k_hat-k_true)
alpha<-quantile(error, probs=1-seq(0,1,0.05))
return (alpha)
}
generate.norm.data<-function(n0,n1,m0,m1,s0,s1,iter){
x0<-rnorm(n0*iter, m0, s0)
x1<-rnorm(n1*iter, m1, s1)
x<-matrix(c(x0,x1), iter, (n0+n1))
return(x)
}
generate.binom.data<-function(n0,n1,p0,p1,iter){
x0<-rbinom(n0*iter,1, p0)
x1<-rbinom(n1*iter,1, p1)
x<-matrix(c(x0,x1), iter, (n0+n1))
return(x)
}
plotAlpha<-function(alpha0, alpha1, alpha2,alpha3, n){
plot(c(n,alpha1),c(0,seq(0,1,0.05)),'l',col="green",xlab=expression(alpha),ylab=expression(beta),xlim=c(0,n))
points(c(n,alpha3),c(0,seq(0,1,0.05)),'l',col="red")
points(c(n,alpha2),c(0,seq(0,1,0.05)),'l',col="blue")
points(c(n,alpha0),c(0,seq(0,1,0.05)),'l',col="black")
legend((n*0.6),0.9,bty="n",legend=c(expression(paste(epsilon,"=0.1")),expression(paste(epsilon,"=0.5")),expression(paste(epsilon,"=1")), expression(paste("Non-private"))),col=c("green","blue","red","black"),lty=1,cex=1.2)
}
mle<-function(data, epsilon, m1, private){
n<-length(data)
delta<-0.1
A1<-2*m1*(qnorm(1-delta/2)+m1/2)
l<-rep(0,n)
for(k in 1:n){
l[k]<-sum((x[k:n]-m1/2)*m1);
}
z<-rlaplace(n, m=0, s=A1/(epsilon))
if (private == 0){
return (which.max(l))
}
if (private == 1){
return (which.max(l+z))
}
}
iter<-100
n0<-50
n1<-150
m0<-0.5
m1<-0
s0<-1
s1<-1
k_true<-n0
x<-generate.norm.data(n0,n1,m0,m1,s0,s1,iter)
n<-length(data)
l<-floor(n*gamma)
r<-n-l+1
s<-rep(-1,n)
for (k in l:r){
s[k]<-mww(data[1:k],data[(k+1):n])
}
data<-x[1,]
n<-length(data)
l<-floor(n*gamma)
r<-n-l+1
s<-rep(-1,n)
for (k in l:r){
s[k]<-mww(data[1:k],data[(k+1):n])
}
plot(s[r:l])
plot(s[r:l],type='l')
plot(s[l:r],type='l')
n
gamma
gamma=0.1
n<-length(data)
l<-floor(n*gamma)
r<-n-l+1
s<-rep(-1,n)
for (k in l:r){
s[k]<-mww(data[1:k],data[(k+1):n])
}
plot(s[r:l])
plot(s[r:l],type='')
plot(s[r:l],type='l')
plot(20:180,s[r:l],type='l')
plot(r:l,s[r:l],type='')
plot(r:l,s[r:l],type='l')
iter<-100
n0<-50
n1<-150
m0<-5
m1<-0
s0<-1
s1<-1
k_true<-n0
x<-generate.norm.data(n0,n1,m0,m1,s0,s1,iter)
data<-x[1,]
n<-length(data)
l<-floor(n*gamma)
r<-n-l+1
s<-rep(-1,n)
for (k in l:r){
s[k]<-mww(data[1:k],data[(k+1):n])
}
plot(r:l,s[r:l],type='l')
0.02*0.98/20
qnorm(0)
pnorm(0)
A=10
log(pnorm(10/(2*sqrt(1000)))/pnorm(-10/(2*sqrt(1000))))
f<-function{T,A,n}{
return(log(pnorm(T/sqrt(n))/pnorm((T-A)/sqrt(n))))
}
f<-function{t,A,n}{
return(log(pnorm(t/sqrt(n))/pnorm((t-A)/sqrt(n))))
}
f<-function(t,A,n){
return(log(pnorm(t/sqrt(n))/pnorm((t-A)/sqrt(n))))
}
f(5,10,100)
f(5,10,1000)
f(5,10,10000)
log(100)/100
log(1000)/1000
sqrt(log(1000)/1000)
sqrt(log(100)/100)
sqrt(log(10000)/10000)
f(8,10,10000)
f(10,10,10000)
1000^-1
1000^-1.05
qnorm(10)
pnorm(10)
pnorm(5)
pnorm(3)
1000^-1
help(pnorm)
qnorm(0.0007079458)
f(10,3.2,10000)
f(3.2,3.2,10000)
f(1.6,3.2,10000)
f(1.5,3.2,10000)
f(1.6,3.2,10000)
f(1.6,3.2,1000)
f(10,20,1000)
pnorm(10/sqrt(1000))
pnorm(-10/sqrt(1000))
library(rmutil)
n=100
Z1<-rlaplace(n, m=0, s=2)
Z2<-rlaplace(n, m=0, s=4)
mean(Z1-Z2)
n=1000
Z1<-rlaplace(n, m=0, s=2)
Z2<-rlaplace(n, m=0, s=4)
mean(Z1-Z2)
mean(Z1-Z2)
hist(Z1-Z2)
n=10000
Z1<-rlaplace(n, m=0, s=2)
Z2<-rlaplace(n, m=0, s=4)
mean(Z1-Z2)
hist(Z1-Z2)
help(runif)
x<-runif(n)
sum(as.integer(x<0.2))
sum(as.integer(x+Z2<0.2+Z1))
sum(as.integer(x+Z2<0.2+Z1))
sum(as.integer(x+Z2<0.2+Z1))
x<-runif(n)
sum(as.integer(x<0.2))
sum(as.integer(x+Z2<0.2+Z1))
x<-runif(n)
sum(as.integer(x<0.2))
sum(as.integer(x+Z2<0.2+Z1))
x<-runif(n)
sum(as.integer(x<0.2))
sum(as.integer(x+Z2<0.2+Z1))
x<-runif(n)
sum(as.integer(x<0.2))
sum(as.integer(x+Z2<0.2+Z1))
x<-runif(n)
sum(as.integer(x<0.2))
sum(as.integer(x+Z2<0.2+Z1))
x<-runif(n)
sum(as.integer(x<0.2))
sum(as.integer(x+Z2<0.2+Z1))
x<-runif(n)
sum(as.integer(x<0.2))
sum(as.integer(x+Z2<0.2+Z1))
x<-runif(n)
sum(as.integer(x<0.2))
sum(as.integer(x+Z2<0.2+Z1))
x<-runif(n)
sum(as.integer(x<0.2))
sum(as.integer(x+Z2<0.2+Z1))
Z1<-rlaplace(n, m=0, s=0.2)
Z2<-rlaplace(n, m=0, s=0.4)
sum(as.integer(x<0.2))
sum(as.integer(x+Z2<0.2+Z1))
sum(as.integer(x<0.2))
sum(as.integer(x+Z2<0.2+Z1))
sum(as.integer(x<0.2))
sum(as.integer(x+Z2<0.2+Z1))
sum(as.integer(x<0.2))
sum(as.integer(x+Z2<0.2+Z1))
sum(as.integer(x<0.2))
sum(as.integer(x+Z2<0.2+Z1))
Z1<-rlaplace(n, m=0, s=0.2)
Z2<-rlaplace(n, m=0, s=0.4)
sum(as.integer(x<0.2))
sum(as.integer(x+Z2<0.2+Z1))
sum(as.integer(x<0.2))
sum(as.integer(x+Z2<0.2+Z1))
sum(as.integer(x<0.2))
sum(as.integer(x+Z2<0.2+Z1))
sum(as.integer(x<0.2))
sum(as.integer(x+Z2<0.2+Z1))
Z1<-rlaplace(n, m=0, s=0.2)
Z2<-rlaplace(n, m=0, s=0.4)
sum(as.integer(x<0.2))
sum(as.integer(x+Z2<0.2+Z1))
sum(as.integer(x<0.2))
sum(as.integer(x+Z2<0.2+Z1))
sum(as.integer(x<0.2))
sum(as.integer(x+Z2<0.2+Z1))
sum(as.integer(Z2>Z1-1))
sum(as.integer(Z2>Z1-2))
hist(Z1)
hist(Z2)
Z1<-rlaplace(n, m=0, s=0.2)
Z2<-rlaplace(n, m=0, s=0.4)
hist(Z2)
hist(Z1)
sum(as.integer(Z2>Z1-2))
sum(as.integer(Z2>Z1-2))
sum(as.integer(Z2>Z1-3))
sum(as.integer(Z2>Z1-10))
sum(as.integer(Z2>Z1))
sum(as.integer(Z2>Z1-0.5))
sum(as.integer(Z2>Z1+2))
sum(as.integer(Z2>Z1+0.5))
0.5*exp(-1/2)+1/6*(exp(-1/2)-exp(-1))
exp(-1/2)-exp(-1)
0.5*exp(-1/2)
0.5*exp(-2/2)+1/6*(exp(-2/2)-exp(-2))
0.5*exp(-0)+1/6*(exp(-0)-exp(-0))
n=10000
Z1<-rlaplace(n, m=0, s=2)
Z2<-rlaplace(n, m=0, s=2)
Z1<-rlaplace(n, m=0, s=1)
Z2<-rlaplace(n, m=0, s=2)
sum(as.integer(Z2<1+Z1))
sum(as.integer(Z2<Z1-1))
Z1<-rlaplace(n, m=0, s=1)
Z2<-rlaplace(n, m=0, s=2)
sum(as.integer(Z2<Z1-1))
Z1<-rlaplace(n, m=0, s=1)
Z2<-rlaplace(1, m=0, s=2)
sum(as.integer(Z2<Z1-1))
sum(as.integer(Z2<Z1-1))
Z1<-rlaplace(n, m=0, s=1)
Z2<-rlaplace(1, m=0, s=2)
sum(as.integer(Z2<Z1-1))
Z1<-rlaplace(n, m=0, s=1)
Z2<-rlaplace(1, m=0, s=2)
sum(as.integer(Z2<Z1-1))
Z1
Z2
sum(as.integer(Z2<Z1-1))
sum(as.integer(Z2<-3))
f<-function(A,eta,eps,c){
2/3*exp(-(A*eps)/(4*eta*c))-1/6*exp(-(A*eps)/(2*eta*c))
}
1000*0.05
50*0.08*log(2*1000*50/0.1)/5
f(10,0.08,10,50)
f(11,0.08,10,50)
f(1,0.08,10,50)
f<-function(A,eta,eps,c){
2/3*exp(-(A*eps)/(4*eta*c))-1/6*exp(-(A*eps)/(2*eta*c))*1000
}
f(1,0.08,10,50)
f<-function(A,eta,eps,c){
2/3*exp(-(A*eps)/(4*eta*c))-1/6*exp(-(A*eps)/(2*eta*c))
}
f(1,0.08,10,50)
f<-function(A,eta,eps,c){
2/3*exp(-(A*eps)/(4*eta*c))-1/6*exp(-(A*eps)/(2*eta*c))
}
f(10,0.08,10,50)*1000
f(10,0.08,10,50)
f(11,0.08,10,50)
f(11,0.08,10,50)*1000
f(15,0.08,10,50)*1000
f(20,0.08,10,50)*1000
exp(-0.5)/6
sqrt(2/500*log(8*(500-250)/0.4))+32*log((5000-250)/0.4)/(500*1)
sqrt(2/500*log(8*(500-250)/0.3))+32*log((5000-250)/0.3)/(500*1)
sqrt(2/500*log(8*(500-250)/0.4))+32*log((5000-250)/0.4)/(500*5)
sqrt(2/500*log(8*(500-250)/0.4))+32*log((5000-250)/0.4)/(500*10)
sqrt(2*log(8/0.4)/500)-32*log(8*(5000-250)/0.4)/(500*1)
sqrt(2*log(8/0.4)/500)+32*log(8*(5000-250)/0.4)/(500*1)
x1=rnorm(10000,5,1)
x2=rnorm(10000,0,1)
as.integer(x1>x2)/10000
sum(as.integer(x1>x2))/10000
sqrt(2*log(8/0.4)/500)+32*log(8*(5000-250)/0.4)/(500*1)
0.9999-sqrt(2*log(8/0.4)/500)+32*log(8*(5000-250)/0.4)/(500*1)
0.9999-sqrt(2*log(8/0.4)/500)-32*log(8*(5000-250)/0.4)/(500*1)
0.9999-sqrt(2*log(8/0.4)/500)-32*log(8*(5000-250)/0.4)/(500*5)
0.9999-sqrt(2*log(8/0.4)/500)-32*log(8*(5000-250)/0.4)/(500*10)
sqrt(2/500*log(8*(500-250)/0.4))+32*log((5000-250)/0.4)/(500*1)
sqrt(2/500*log(8*(500-250)/0.4))+32*log((5000-250)/0.4)/(500*1)+0.5
sqrt(2/500*log(8*(500-250)/0.4))
sqrt(2/500*log(8*(500-250)/0.4))+0.5
0.9999-sqrt(2*log(8/0.4)/500)
setwd("~/Downloads/SAFFRONcode-master/expsettings")
pp<-read.table("P_NH800_PM0.03_MG0.07_SEED49.dat")
hist(pp[,1])
pp<-read.table("P_NH800_PM0.03_MG0.09_SEED49.dat")
hist(pp[,1])
pp<-read.table("P_NH800_PM0.05_MG0.09_SEED49.dat")
hist(pp[,1])
1+1/(1-exp(1))
(1-exp(1))
1000*(1+1/(1-exp(1))
)
1-exp(1)/(exp(1)-1)^2
1000*(1/2+1/(1-exp(1/2)))
1000*(1/2+1/(1-exp(2)))
